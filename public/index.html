<!doctype html>
<html>
	<head>
		<title> Home Page </title>

		<link rel="stylesheet" href="style.css">

		 <!-- Bootstrap CSS -->
		 <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

	<!--JavaScript for Bootsstrap-->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>


		<!--Used for hashing a password-->
		<script type="text/javascript" src="md5.min.js"></script>

		<!-- Used to hash password before submitting -->
		<script type="text/javascript">
			function prepareSubmit(){
				console.log("HERE");
				var subForm = document.getElementById("subForm");
				subForm.passwd.value = md5(subForm.passwd.value);
				return true;
			}
		</script>

	</head>

	<body onload="start()">
		<!--St Thomas logo header -->
		<a class="st-thomas-logo" href="http://www.stthomas.edu/">
    			University of St. Thomas  EMinnesota  EA private, Catholic liberal arts university
    	</a>
		<!-- About page -->
		<a href="about.html">About Us</a>

		



		<div container>
				
				<div class= "jumbotron text-center">
						<h1 class="login">UST Course Login:</h1>
					</div>
				
				<div class="row">
						<div class="col-md-2 offset-md-4">

				<ul class="nav nav-tabs" id="myTab" role="tablist">
						<li class="nav-item">
						  <a class="nav-link active" id="login-tab" data-toggle="tab" href="#login" role="tab" aria-controls="login" aria-selected="true">login</a>
						</li>
						<li class="nav-item">
						  <a class="nav-link" id="register-tab" data-toggle="tab" href="#register" role="tab" aria-controls="register" aria-selected="false">register</a>
						</li>
		
				</ul>

				<div class="tab-content" id="myTabContent">
					<div class="tab-pane fade show active" id="login" role="tabpanel" aria-labelledby="login-tab">
							<form id="subForm" onsubmit="prepareSubmit()" method= "POST" enctype= "multipart/form-data">
								<!--Student/Faculty Drop Down -->
								<select class="login" name="position">
								  <option value="student">Student</option>
								  <option value="faculty">Faculty</option>
								</select>
								</br>
								<!--Username-->
								<input type= "text" placeholder="Login" name="login" class="login"/> <br/>
								<!--Password, type = password conceals password when entering into database -->
								<input id ="psw" type="password" placeholder="Password" name="passwd"class="login"/> <br/>
								<input id="log" formaction = "/login" type= "submit" value="Login" class="login buttons"/>
								<!--Create New User, this button does not submit only expands other fields for submitting a new user-->
								<input id="createNew" type= "button" value ="Create New User" onclick="create()" class="login buttons" style="margin-left: 48px;"/>
								<!--First Name after user selects create new user -->
								<input id="first" type="text" placeholder="First Name" name = "firstName" class="login"/><br/>
								<!--Last Name after user selects create new user-->
								<input id="last" type="text" placeholder="Last Name" name= "lastName" class="login"/><br/>
								<!--Submit button for creating a new user, activates the push request-->
								<input id="sub" formaction = "/new" type= "submit" value ="Submit New User" class="login buttons"/>
								<!--Login button for submiting -->
					
							</form>

					</div>
					<div class="tab-pane fade" id="register" role="tabpanel" aria-labelledby="register-tab">
						<!--TODO: separate out registration and submission into two different forms-->
					</div>
				
				</div>
		
		
			</div>
		</div>
				<!-- Begin of Form -->
	
		</div>
		






		<script>
			
			//<!-- Hiding first name, last name and submit button on initial load -->
			function start(){
				document.getElementById("first").style.display = "none";
				document.getElementById("last").style.display = "none";
				document.getElementById("sub").style.display = "none";
			}
			//<!--When user selects create new user brings out first name, last name, and submit button -->
			function create(){
				document.getElementById("createNew").style.display = "none";
				document.getElementById("log").style.display = "none";
				document.getElementById("first").style.display = "block";
				document.getElementById("last").style.display = "block";
				document.getElementById("sub").style.display = "block";
			}
			
		</script>
	</body>



</html>